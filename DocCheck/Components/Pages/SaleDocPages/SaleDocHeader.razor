@using DocCheck.Common
@using DocCheck.Domain
@using DocCheck.Infrastructure.OData.Models
@using System.Globalization

@if (SaleDoc is not null)
{
	<div class="row">
		<div class="col-auto">
			<div class="h4 mt-1">
				<a href="saledocs/edit?Id=@(SaleDoc.Id)">
					<span>Счет-фактура №</span>
					<span>@SaleDoc.Number</span>
					<span> от </span>
					<span>@SaleDoc.DateString</span>
				</a>
			</div>
		</div>
		<div class="col">
			<div class="d-flex justify-content-around">
				<div class="alert alert-info m-0 p-1 h5">@SaleDoc.Position.Description</div>
				<div><i class="bi bi-arrow-counterclockwise me-1"></i>Количество переотправок: <span>@SaleDoc.Redispatch</span></div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-auto">
			<div class="h5 mt-1">
				<span>Реализация №</span>
				<span>@SaleDoc.BaseDoc?.Number</span>
				<span> от </span>
				<span>@SaleDoc.BaseDoc?.Date.ToString(new CultureInfo("ru-RU"))</span>
			</div>
		</div>
		<div class="col">
			<div class="d-flex justify-content-around">
				<div class="pt-1">
					<i class="bi bi-cash-stack me-1"></i>Сумма документа:
					<span class="h5">@SaleDoc.BaseDoc?.DocumentAmount</span>
				</div>
				<div class="pt-1">
					<i class="bi bi-postcard-heart me-1"></i>Получен оригинал:
					<span class="h5 text-success">
						@if (SaleDoc.IsOriginalDocumentReceived)
						{
							<i class="bi bi-check-circle"></i>
						}
					</span>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-auto"><i class="bi bi-person-vcard me-1"></i>Контрагент: <span class="h6">@SaleDoc.CustomerName</span></div>
		<div class="col-auto"><i class="bi bi-person-circle me-1"></i>Менеджер: <span class="h6">@SaleDoc.ManagerName</span></div>
		<div class="col-auto"><i class="bi bi-person-circle me-1"></i>Автор: <span class="h6">@SaleDoc.AuthorName</span></div>
	</div>
	<hr class="mt-1" />
}

@code {
	[Parameter]
	public SaleDoc? SaleDoc { get; set; }
}